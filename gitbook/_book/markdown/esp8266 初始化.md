esp8266 初始化
=====

## 透過 init_esp8266.py 安裝 Webduino 類別庫
![](/uploads/upload_1025669b45cc325552b0c3912df4a1a5.png =80%x)


四路繼電器
https://docs.google.com/document/d/1LjYN5A9BQ8qH_tu9Dql2w0r9b6EPAJmFU-QBmXJpfas/edit

## main.py 範例程式
```python=
from webduino.board import Board
from webduino.debug import debug
import time, machine
from machine import UART
import time

r1_on =   b'\xA0\x01\x01\xA2'
r1_off =  b'\xA0\x01\x00\xA1'
r2_on =   b'\xA0\x02\x01\xA3'
r2_off =  b'\xA0\x02\x00\xA2'
r3_on =   b'\xA0\x03\x01\xA4'
r3_off =  b'\xA0\x03\x00\xA3'
r4_on =   b'\xA0\x04\x01\xA5'
r4_off =  b'\xA0\x04\x00\xA4'

debug.off()

uart = UART(0, 115200)
uart.init(115200, bits=8, parity=None, stop=1)


#####################
try:
    import cmd
    machine.reset()
except:
    pass
#####################

def cb(cmd):
    if cmd == 'r1 on':
        uart.write(r1_on)
    elif cmd == 'r1 off':
        uart.write(r1_off)

try:
    board = Board(devId='smart')
    # topicName = "${devId}/" + ${name}
    board.onTopic("testqq",cb)
    board.loop()
    #board.check()
except Exception as e:
    print(e)
    print('')
    machine.reset()
```
